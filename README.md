# Название приложения
NewsSecurityServer

## Описание
Сервер отвечает за аутентификацию и авторизацию пользователей. Также взаимодействие с сервером  https://github.com/MrFurion/NewsLogicServer
Содержит модули. Api - отвечает за предоставление endpoints  для взаимодействия с сервером. 
Core - содержит логику обработки запросов и взаимодействие с БД.

## Вход в систему
Можно осуществить по имеющимся данным, с соответствующими ролями: 
* user = 'Admin', password = 4444 (role ADMIN);
* user = 'Journalist', password 4444 (role JOURNALIST);
* user = 'Subscriber', password 4444 (role SUBSCRIBER);

## Интерфейсы
Контроллер для управления пользователями через REST API. Поддерживает следующие операции:

### AuthenticationController
AuthenticationController — это REST-контроллер, предназначенный для управления процессами аутентификации и регистрации пользователей.

Регистрация нового пользователя в системе.
Метод: POST /auth/signup
Принимает данные пользователя, выполняет валидацию и создает учетную запи

Аутентификация пользователя по имени и паролю.
Метод: POST /auth/login
Возвращает JWT-токен, если вход выполнен успешно.

Особенности:
Генерация JWT-токена выполняется через JwtService.
Авторизация пользователей возможна с использованием возвращаемого токена.

### NewsClientController

Получение новости по ID
GET /news/{id}
Возвращает новость по уникальному идентификатору (UUID).

Получение всех новостей с пагинацией
GET /news
Возвращает список всех новостей с поддержкой пагинации (по умолчанию 5 на странице).

Получение комментариев к новости
GET /news/{id}/comments
Возвращает список комментариев к указанной новости с пагинацией.

Поиск новостей по заголовку и тексту
POST /news/search
Полнотекстовый поиск новостей с возможностью сортировки, указания полей и настройки количества результатов.

Создание новости
POST /news
Создает новую новость. Требуются права администратора или журналиста.

Обновление новости
PUT /news/{id}
Обновляет существующую новость по ID. Требуются права администратора или журналиста.

Удаление новости
DELETE /news/{id}
Удаляет новость по ID. Требуются права администратора или журналиста.

Особенности:
Безопасность: Реализована авторизация через роли (ADMIN, JOURNALIST, SUBSCRIBER).
Документация API: Используется Swagger для описания операций.

### CommentsClientController

Получение комментария по ID
GET /comments/{uuid}
Возвращает комментарий по его уникальному идентификатору (UUID).
Доступ: Администратор, журналист, подписчик.

Поиск комментариев
POST /comments/search
Полнотекстовый поиск комментариев по тексту и имени пользователя с возможностью сортировки и пагинации.
Доступ: Администратор, журналист, подписчик.

Создание комментария к новости
POST /comments/{uuid}
Создает новый комментарий для указанной новости.
Доступ: Администратор, подписчик.

Обновление комментария
PUT /comments/{uuid}
Обновляет существующий комментарий по его UUID.
Доступ: Администратор, подписчик.

Удаление комментария
DELETE /comments/{uuid}
Удаляет комментарий по его UUID.
Доступ: Администратор, подписчик.

Особенности
Авторизация: Реализована проверка прав доступа для различных ролей.
Документация API: Используется OpenAPI аннотации (Swagger) для описания методов.

## Установка и запуск
Для запуска приложения необходимо.
Открыть приложение в IntelliJ IDEA. Запустить файл docker-compose.yml в корне проекта.
После создания базы данных и ее автоматического подключения, запустить класс NewsSecurityServerApplication в корне проекта.
